{"version":3,"file":"index.js","names":["_logger","require","_babelTransform","_interopRequireDefault","_utils","_preeval","_withLinariaMetadata","_interopRequireWildcard","_module","_transform","_UnprocessedEntrypointError","_types","Object","keys","forEach","key","prototype","hasOwnProperty","call","_exportNames","exports","defineProperty","enumerable","get","_EvaluatedEntrypoint","_Entrypoint","_generators","_transform2","_Entrypoint2","_extract","_resolveImports","_loadLinariaOptions","_withDefaultServices","_isNode","_getTagProcessor","_getVisitorKeys","_peek","_processTemplateExpression","_cache","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","set","isEnabled","caller","name","evaluate","linaria","babel","options","debug","JSON","stringify","plugins","transform"],"sources":["../src/index.ts"],"sourcesContent":["/**\n * File defines babel preset for Linaria.\n * It uses ./extract function that is an entry point for styles extraction.\n * It also bypass babel options defined in Linaria config file with it's defaults (see ./utils/loadOptions).\n */\nimport type { ConfigAPI, TransformCaller } from '@babel/core';\n\nimport { debug } from '@linaria/logger';\n\nimport transform from './plugins/babel-transform';\nimport type { PluginOptions } from './types';\n\nexport { slugify } from '@linaria/utils';\n\nexport { default as preeval } from './plugins/preeval';\nexport {\n  default as withLinariaMetadata,\n  getLinariaMetadata,\n} from './utils/withLinariaMetadata';\nexport { default as Module, DefaultModuleImplementation } from './module';\nexport { default as transform } from './transform';\nexport {\n  isUnprocessedEntrypointError,\n  UnprocessedEntrypointError,\n} from './transform/actions/UnprocessedEntrypointError';\nexport * from './types';\nexport { EvaluatedEntrypoint } from './transform/EvaluatedEntrypoint';\nexport type { IEvaluatedEntrypoint } from './transform/EvaluatedEntrypoint';\nexport { parseFile } from './transform/Entrypoint.helpers';\nexport type { LoadAndParseFn } from './transform/Entrypoint.types';\nexport { baseHandlers } from './transform/generators';\nexport { prepareCode } from './transform/generators/transform';\nexport { Entrypoint } from './transform/Entrypoint';\nexport { transformUrl } from './transform/generators/extract';\nexport {\n  asyncResolveImports,\n  syncResolveImports,\n} from './transform/generators/resolveImports';\nexport { default as loadLinariaOptions } from './transform/helpers/loadLinariaOptions';\nexport { withDefaultServices } from './transform/helpers/withDefaultServices';\nexport type { Services } from './transform/types';\nexport { default as isNode } from './utils/isNode';\nexport { getTagProcessor } from './utils/getTagProcessor';\nexport { default as getVisitorKeys } from './utils/getVisitorKeys';\nexport type { VisitorKeys } from './utils/getVisitorKeys';\nexport { default as peek } from './utils/peek';\nexport { processTemplateExpression } from './utils/processTemplateExpression';\nexport { TransformCacheCollection } from './cache';\n\nfunction isEnabled(caller?: TransformCaller & { evaluate?: true }) {\n  return caller?.name !== 'linaria' || caller.evaluate === true;\n}\n\nexport default function linaria(babel: ConfigAPI, options: PluginOptions) {\n  if (!babel.caller(isEnabled)) {\n    return {};\n  }\n  debug('options', JSON.stringify(options));\n  return {\n    plugins: [[transform, options]],\n  };\n}\n"],"mappings":"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"}